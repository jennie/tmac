<if condition="event">
  <div class="event daily" style=' background-image: url(//{{ dato._meta.imgixHost + event.featureImage.path }}?bm=normal&balph=60&blend={{ event.canceled == true ? "eeeeee" : "322D5A"}}&w=400&fit=clip&auto=compress,format); background-size: cover;' data-startDate="{{ Date.parse(event.startDateTime) }}" class='{{ event.canceled == true ? "canceled" : ""}}' itemscope itemtype="http://schema.org/Event" >
    <a href="{{ event.registrationLink }}">
      <div class="desc">
        <if condition="event.canceled == true">
          <span class="canceled">Canceled</span>
        </if>
        <if condition="event.member[0] && event.presenter">
          <small>{{ event.member[0].name }} + {{ event.presenter }}</small>
        </if>
        <elseif condition="event.member[0]">
          <small>{{ event.member[0].name }}</small>
        </elseif>
        <elseif condition="event.presenter">
          <small>{{ event.presenter }}</small>
        </elseif>
        <h3 itemprop="name">{{ event.title }}</h3>
        <p itemprop="description" class="description">
          {{ event.description }}
        </p>
        <div class="when">
          <!-- // if the event starts and ends on same day -->
          <if condition="dateFns.isSameDay(event.startDateTime,event.endDateTime) == true">
            <p class="date">
              <time itemprop="startDate" datetime='{{ df(event.startDateTime, "UTC:mmmm d", true)}}, {{ df(event.startDateTime, "UTC:h:MM tt", true)}}'>
                {{ df(event.startDateTime, "UTC:mmmm d", true)}}
                <!-- , {{ df(event.startDateTime, "UTC:h:MM tt", true)}} -->
              </time>
            </p>
          </if>
          <!-- // if the event spans multiple days, but starts and ends in same month,
          // don"t show month name twice -->
          <elseif condition="dateFns.isSameMonth(event.startDateTime,event.endDateTime) == true">
            <p class="date">
              <time itemprop="startDate" datetime='{{ df(event.startDateTime, "UTC:mmmm d", true)}}, {{ df(event.startDateTime, "UTC:h:MM tt", true)}}'>
                {{ df(event.startDateTime, "UTC:mmmm d", true)}}
              </time>
              –
              <time itemprop="endDate" datetime='{{ df(event.endDateTime, "UTC:mmmm d", true)}}, {{ df(event.endDateTime, "UTC:h:MM tt", true)}}'>
                {{ df(event.endDateTime, "UTC:d", true)}}
              </time>
            </p>
          </elseif>
          <else>
            <p class="date">
              <time itemprop="startDate" datetime='{{ df(event.startDateTime, "UTC:mmmm d", true)}}'>
                {{ df(event.startDateTime, "UTC:mmmm d", true)}}

              </time>
              –
              <time itemprop="endDate" datetime='{{ df(event.endDateTime, "UTC:mmmm d", true)}}'>
                {{ df(event.endDateTime, "UTC:mmmm d", true)}}
              </time>
            </p>
          </else>
        </div>
      </div>
      <div class="where" itemprop="location" itemscope itemtype="http://schema.org/Place">
        <span itemprop="name">Toronto Media Arts Centre, {{event.location[0]}}</span><br>
        <div itemprop="address" itemscope itemtype="http://schema.org/PostalAddress">
          <span itemprop="streetAddress">32 Lisgar Street</span><br>
          <span itemprop="addressLocality">Toronto</span><br>
          <span itemprop="addressRegion">ON</span>
        </div>
      </div>
      <div class="register">
        <if condition="dateFns.isToday(event.startDateTime) == true">
          <p class="thisweek">Today</p>
        </if>
        <elseif condition="dateFns.isTomorrow(event.startDateTime) == true">
          <p class="thisweek">Tomorrow</p>
        </elseif>
        <elseif condition="dateFns.isThisWeek(event.startDateTime) == true">
          <p class="thisweek">
            {{ dateFns.format(event.startDateTime, 'dddd') }}
          </p>
        </elseif>
      </div>
    </a>
  </div>
</if>